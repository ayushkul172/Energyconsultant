<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ayush Kulshrestha | Energy Data & Strategy</title>

    <meta name="description" content="A modern, interactive portfolio website for Ayush Kulshrestha, showcasing expertise in energy data analysis, automation, and strategic consulting." />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://ayush-kulshrestha-portfolio.dev/">
    <meta property="og:title" content="Ayush Kulshrestha | Energy Data & Strategy">
    <meta property="og:description" content="A modern, interactive portfolio website for Ayush Kulshrestha, showcasing expertise in energy data analysis, automation, and strategic consulting.">
    <meta property="og:image" content="https://images.unsplash.com/photo-1533134486753-c833f0ed4866?q=80&w=1200&h=630&fit=crop">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://ayush-kulshrestha-portfolio.dev/">
    <meta property="twitter:title" content="Ayush Kulshrestha | Energy Data & Strategy">
    <meta property="twitter:description" content="A modern, interactive portfolio website for Ayush Kulshrestha, showcasing expertise in energy data analysis, automation, and strategic consulting.">
    <meta property="twitter:image" content="https://images.unsplash.com/photo-1533134486753-c833f0ed4866?q=80&w=1200&h=630&fit=crop">

    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>‚ö°</text></svg>">
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600;700;800&family=Roboto:wght@400;500&display=swap" rel="stylesheet">
    
    <script>
      tailwind.config = {
        darkMode: 'class',
        theme: {
          extend: {
            colors: {
              primary: {
                light: '#0891b2', // cyan-600
                DEFAULT: '#0a4d68',
                dark: '#06b6d4', // cyan-500
              },
              secondary: {
                light: '#0e7490', // cyan-700
                DEFAULT: '#088395',
                dark: '#22d3ee', // cyan-400
              },
              'dark-bg': '#0f172a', // slate-900
              'light-bg': '#f1f5f9', // slate-100
              'dark-card': '#1e293b', // slate-800
              'light-card': '#ffffff',
              'dark-text': '#e2e8f0', // slate-200
              'light-text': '#1e293b', // slate-800
              'dark-subtle': '#94a3b8', // slate-400
              'light-subtle': '#475569', // slate-600
            },
            fontFamily: {
              sans: ['Roboto', 'sans-serif'],
              montserrat: ['Montserrat', 'sans-serif'],
            },
            keyframes: {
              fadeInUp: {
                'from': { opacity: 0, transform: 'translateY(20px)' },
                'to': { opacity: 1, transform: 'translateY(0)' },
              },
              // ‚úÖ ADDED: A standard fadeIn animation for the scroll prompt
              fadeIn: {
                'from': { opacity: 0 },
                'to': { opacity: 1 },
              },
              reveal: {
                'from': { clipPath: 'inset(0 100% 0 0)' },
                'to': { clipPath: 'inset(0 0 0 0)' },
              },
              bounceSlow: {
                '0%, 100%': { transform: 'translateY(-25%)', animationTimingFunction: 'cubic-bezier(0.8, 0, 1, 1)' },
                '50%': { transform: 'translateY(0)', animationTimingFunction: 'cubic-bezier(0, 0, 0.2, 1)' },
              }
            },
            animation: {
              fadeInUp: 'fadeInUp 0.8s ease-out forwards',
              fadeIn: 'fadeIn 1s ease-in forwards', // ‚úÖ ADDED
              reveal: 'reveal 1s ease-in-out forwards',
              bounceSlow: 'bounceSlow 2s infinite',
            }
          }
        }
      }
    </script>
    
    <!-- React, ReactDOM, and Babel for in-browser JSX transpilation -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <style>
      #background-video {
        position: fixed;
        right: 0;
        bottom: 0;
        min-width: 100%;
        min-height: 100%;
        width: auto;
        height: auto;
        z-index: -1;
        object-fit: cover;
        filter: brightness(0.8);
      }

      body {
        background-color: #0f172a; /* Fallback for dark mode */
      }
      html.light body {
        background-color: #f1f5f9; /* Fallback for light mode */
      }
      body {
        background-color: transparent !important;
      }
    </style>
</head>
<body class="bg-light-bg dark:bg-dark-bg text-light-text dark:text-dark-text transition-colors duration-300">
    
    <video id="background-video" autoplay loop muted playsinline>
        <source src="https://raw.githubusercontent.com/ayushkul172/Energyconsultant/main/Generated%20File%20July%2017%2C%202025%20-%201_18PM.mp4" type="video/mp4">
        Your browser does not support the video tag.
    </video>

    <div id="root"></div>

    <script type="text/babel">
      const { useState, useEffect, useRef, useId, Fragment } = React;

      // --- DATA CONSTANTS ---
      const spotlightProjects = [
          {
              title: "Upstream AI Analyzer Tool",
              situation: "In the upstream oil & gas industry, decision-makers rely on timely insights from news sources. However, manually scanning, extracting, and analyzing key information is tedious, error-prone, and time-consuming, leading to missed updates and difficulties in building structured dashboards.",
              task: "My objective was to design and build a tool that could automatically collect upstream news, extract specific entities (projects, operators, delays), summarize articles, and visually present the analysis in an interactive dashboard‚Äîall accessible to non-technical users.",
              action: "I built the Upstream AI Analyzer, a full-featured Python desktop application. The tool's workflow involves a user selecting a date range, which triggers automated web scraping of news articles. Each article is then processed through a custom NLP extraction pipeline to pull over 14 categories of information, including field names, companies, contract types, and budget values. Finally, the structured results are rendered in a dynamic, graphical dashboard.",
              techStack: ["PyQt5", "Selenium", "spaCy", "Regex", "Matplotlib", "Python"],
              image: "https://raw.githubusercontent.com/ayushkul172/Energyconsultant/main/AI%20tool%20analysis.jpg",
              results: [
                  { metric: "90%", description: "Reduction in manual analysis time for upstream analysts." },
                  { metric: "100%", description: "Automation of intelligence gathering from unstructured news." },
                  { metric: "1-Click", description: "Deployment, launched from a single desktop icon for non-technical users." }
              ]
          },
          {
              title: "Automated Research Synthesizer",
              situation: "Strategic research teams were bogged down by manual data collection from diverse online sources. This time-consuming process led to project delays and made it difficult to synthesize information into a consistent, actionable format.",
              task: "The goal was to create an intelligent tool that leverages Generative AI to automate the entire secondary research lifecycle‚Äîfrom targeted data gathering and summarization to the final synthesis of key insights, freeing up analysts for higher-value strategic thinking.",
              action: "I engineered a Python-based application that integrates with the OpenAI API. An analyst provides a research query, and the tool autonomously scours predefined industry websites and news outlets. It uses BeautifulSoup for content extraction and LangChain to structure prompts for summarization, theme identification, and insight generation. The final, synthesized report is automatically compiled into a structured Word document.",
              techStack: ["Python", "OpenAI API", "LangChain", "BeautifulSoup", "python-docx"],
              image: "https://images.unsplash.com/photo-1677756119517-756a188d2d94?q=80&w=1200&h=800&fit=crop&auto=format",
              results: [
                  { metric: "75%", description: "Reduction in time spent on initial data gathering and synthesis." },
                  { metric: "4x", description: "Increase in the volume of sources analyzed per research project." },
                  { metric: "100%", description: "Standardization of research outputs for improved consistency." }
              ]
          },
          {
              title: "Project Command Center",
              situation: "Managing complex projects with multiple team members often leads to fragmented data, unbalanced workloads, and a lack of real-time visibility. Traditional tools struggle to provide intelligent insights, forcing managers into manual tracking and reactive decision-making.",
              task: "To design and develop an all-in-one desktop application that centralizes project management, provides granular sub-task tracking, and integrates AI-powered analytics to predict delays, summarize workloads, and intelligently optimize task allocation across the team.",
              action: "I developed the 'Project Command Center,' a comprehensive solution featuring a dynamic task table with Excel integration. Its key innovations include an AI-powered observation module using NLP to summarize workloads, a machine learning model to predict task completion, and a linear programming engine to optimize resource allocation. The platform is rounded out with an interactive visualization panel, offering customizable charts and advanced filtering for deep-dive analysis.",
              techStack: ["Python", "PyQt5", "Pandas", "Scikit-learn", "Matplotlib", "SciPy"],
              image: "https://raw.githubusercontent.com/ayushkul172/Energyconsultant/main/Project%20tool.png",
              results: [
                  { metric: "AI-Driven", description: "Insights that predict delays & optimize team workload allocation." },
                  { metric: "100%", description: "Centralized visibility into all tasks and sub-tasks in real-time." },
                  { metric: "30%+", description: "Increase in team productivity via automation & balanced workloads." }
              ]
          }
      ];
      const projects = [
          {
              title: 'AI-Powered News Intelligence Pipeline',
              challenge: 'The upstream analysis team spent 12 hours weekly on manual news gathering, causing delays and inconsistent outputs.',
              action: 'I architected a fully automated Python pipeline using <strong>Selenium</strong> and <strong>BeautifulSoup</strong> for web scraping, and an AI summarization engine with <strong>Newspaper3k</strong> and <strong>spaCy</strong> to generate concise briefs. The process was integrated with <strong>Microsoft Copilot</strong> for seamless delivery.',
              result: {
                  text: 'in processing time, <strong>100% data coverage</strong> with consistent formatting, and delivery of <strong>near-real-time intelligence</strong> that accelerated strategic decision-making.',
                  highlight: '90% reduction'
              }
          },
          {
              title: 'Generative AI for Accelerated Secondary Research',
              challenge: "KPMG's ENR team was hampered by time-consuming and inefficient manual data gathering for research projects.",
              action: 'I developed a custom solution by integrating a <strong>Generative AI tool</strong> directly into the team\'s workflow. I created a powerful <strong>Excel VBA macro</strong> that acted as a bridge, allowing analysts to automate a significant portion of their data gathering and synthesis tasks.',
              result: {
                  text: 'The macro was a game-changer, delivering a <strong>marked reduction in research time</strong>, significantly <strong>enhancing data accuracy</strong>, and creating a more efficient and scalable research process.',
                  highlight: ''
              }
          }
      ];
      const competencies = [
          { icon: 'fa-solid fa-magnifying-glass-chart', title: 'Upstream Market Analysis', description: 'Supply/demand forecasting, contract analysis, and competitor performance tracking.' },
          { icon: 'fa-solid fa-robot', title: 'Data Automation', description: 'Building intelligent systems with Python & VBA to eliminate manual work and drive efficiency.' },
          { icon: 'fa-solid fa-chart-pie', title: 'Business Intelligence', description: 'Transforming complex data into clear, actionable dashboards with Power BI and ArcGIS.' },
          { icon: 'fa-solid fa-bullseye', title: 'Commercial Strategy', description: 'Data-backed insights for pricing, market share analysis, and industry benchmarking.' }
      ];
      const skills = [
          'Microsoft Office (Excel, PowerPoint, Word)', 'Excel Dashboards', 'Google Analytics', 'Python', 'VBA', 'PyQt5', 'Selenium', 'spaCy', 'Gen AI Tools (ChatGPT, Bing AI, Bard)'
      ];
      const experiences = [
          {
              company: 'Wood Mackenzie',
              title: 'Upstream Production Analyst',
              date: '2024 - Present',
              description: `Spearheading advanced upstream intelligence, I integrate geospatial analytics (ArcGIS) and AI-driven automation to streamline subsea contract forecasting and news synthesis, driving data-centric decisions. I architect end-to-end Python pipelines for real-time intelligence capture, radically enhancing efficiency and strategic foresight in offshore asset monitoring. My domain specialization encompasses infield product lifecycle management, SURF/umbilical/platform documentation, and upstream contractual intelligence to optimize client deliverables. I orchestrate cross-functional collaborations and global data harmonization to elevate database integrity, workflow resilience, and market analytics across critical rig and USC development landscapes.`
          },
          {
              company: 'KPMG Global Services',
              title: 'Business Associate, ENR',
              date: '2022 - 2024',
              description: `At the nexus of analytics and strategy, I architected dynamic Power BI dashboards and automated data pipelines (Python, VBA) to decode market complexities across the Energy & Natural Resources (ENR) sector. I engineered pricing intelligence frameworks through rigorous benchmarking, statistical modeling, and peer analysis, optimizing client positioning and revenue architecture. Synthesizing macro trends and granular metrics, I authored strategic industry reports and conducted deep market diagnostics, positioning KPMG as a trusted advisory partner. By championing agile methodologies and technological innovation (AWS, APIs), I streamlined data operations, elevated modeling precision, and drove enterprise-wide analytical excellence.`
          },
          {
              company: 'ACS Global Tech Solutions',
              title: 'Market Research Associate',
              date: '2020 - 2022',
              description: 'Analyzed market dynamics and competitor landscapes in the industrial manufacturing sector, focusing on digital technologies and product mapping.'
          }
      ];
      const certifications = [
          { icon: 'fa-solid fa-award', title: 'Lean Six Sigma', issuer: 'Issued by KPMG' },
          { icon: 'fa-solid fa-award', title: 'Fundamentals of Digital Marketing', issuer: 'Issued by Google' },
          { icon: 'fa-solid fa-award', title: 'AI for Everyone: Master the Basics', issuer: 'Issued by IBM' },
          { icon: 'fa-solid fa-award', title: 'Introduction to Generative AI', issuer: 'Issued by IBM' },
          { icon: 'fa-solid fa-award', title: 'Introduction to Prompt Engineering', issuer: 'Issued by IBM' },
          { icon: 'fa-solid fa-award', 'title': 'Advancing the Digital Economy for Sustainable Growth in Asia', issuer: 'Issued by ADBI' },
          { icon: 'fa-solid fa-award', 'title': 'Fostering Growth and Inclusion in Asia‚Äôs Cities', issuer: 'Issued by ADBI' },
          { icon: 'fa-solid fa-award', 'title': 'Business Analysis: Essential Tools and Techniques', issuer: 'Issued by IIBA Egypt Chapter' },
          { icon: 'fa-solid fa-award', 'title': 'Python Essential Training', issuer: 'Issued by LinkedIn Learning' },
          { icon: 'fa-solid fa-award', 'title': 'Introduction to Web Development with HTML5, CSS3, and JavaScript', issuer: 'Issued by IBM' }
      ];


      // --- REUSABLE COMPONENTS ---

      // Helper function for smooth scrolling
      const smoothScrollTo = (selector) => {
        const element = document.querySelector(selector);
        if (element) {
            const offset = 80; // Navbar height
            const bodyRect = document.body.getBoundingClientRect().top;
            const elementRect = element.getBoundingClientRect().top;
            const elementPosition = elementRect - bodyRect;
            const offsetPosition = elementPosition - offset;
            window.scrollTo({ top: offsetPosition, behavior: 'smooth' });
        }
      };

      const MarketingModal = ({ isOpen, onClose, onCtaClick }) => {
        if (!isOpen) return null;
        return (
          <div 
            className="fixed inset-0 bg-black/60 backdrop-blur-sm flex justify-center items-center z-[100] transition-opacity duration-300"
            onClick={onClose}
          >
            <div 
              className="bg-light-card dark:bg-dark-card rounded-2xl shadow-2xl max-w-lg w-full m-6 p-8 relative animate-fadeInUp text-center ring-1 ring-slate-200 dark:ring-slate-700"
              onClick={e => e.stopPropagation()}
            >
              <button 
                onClick={onClose} 
                className="absolute top-3 right-3 w-10 h-10 flex items-center justify-center text-xl text-light-subtle dark:text-dark-subtle rounded-full transition-colors duration-300 hover:bg-black/10 dark:hover:bg-white/10"
                aria-label="Close dialog"
              >
                <i className="fa-solid fa-xmark"></i>
              </button>
              <div className="w-16 h-16 mb-5 mx-auto rounded-full bg-secondary-light/10 dark:bg-secondary-dark/10 flex items-center justify-center ring-4 ring-secondary-light/20 dark:ring-secondary-dark/20">
                <i className="fa-solid fa-rocket text-3xl text-secondary-light dark:text-secondary-dark"></i>
              </div>
              <h2 className="text-2xl lg:text-3xl font-montserrat font-bold text-primary-light dark:text-primary-dark mb-3">
                Need a Modern Website Solution?
              </h2>
              <p className="text-light-subtle dark:text-dark-subtle mb-8 text-lg">
                As an <strong className="font-semibold text-light-text dark:text-dark-text">IBM-certified Web Developer</strong>, I offer end-to-end website services‚Äîfrom initial concept and design to final deployment. Let's build a powerful digital presence for your business.
              </p>
              <button 
                onClick={onCtaClick} 
                className="w-full bg-secondary-light dark:bg-secondary-dark text-white py-3 px-8 rounded-lg font-bold transition-all duration-300 hover:scale-105 hover:bg-primary-light dark:hover:bg-primary-dark shadow-lg"
              >
                Request a Consultation
              </button>
            </div>
          </div>
        );
      };

      const Section = ({ children, id, className = '' }) => {
          const [isVisible, setIsVisible] = useState(false);
          const sectionRef = useRef(null);
          useEffect(() => {
              const observer = new IntersectionObserver(
                  ([entry]) => {
                      if (entry.isIntersecting) {
                          setIsVisible(true);
                          observer.unobserve(entry.target);
                      }
                  },
                  { threshold: 0.1 }
              );
              const currentRef = sectionRef.current;
              if (currentRef) {
                  observer.observe(currentRef);
              }
              return () => {
                  if (currentRef) {
                      observer.unobserve(currentRef);
                  }
              };
          }, []);
          return (
              <section
                  id={id}
                  ref={sectionRef}
                  className={`py-20 md:py-28 transition-opacity duration-1000 ease-out rounded-xl ${isVisible ? 'opacity-100' : 'opacity-0'} ${className}`}
              >
                  <div className="container mx-auto px-6 md:px-8">
                      {children}
                  </div>
              </section>
          );
      };

      // ‚úÖ ENHANCED: Component for guiding users to the next section
      const NextSectionLink = ({ href, text }) => {
          const handleScroll = (e) => {
              e.preventDefault();
              smoothScrollTo(href);
          };
          return (
              <div className="mt-20 text-center">
                  <a
                      href={href}
                      onClick={handleScroll}
                      className="inline-flex items-center gap-3 font-semibold text-light-subtle dark:text-dark-subtle hover:text-primary-light dark:hover:text-primary-dark transition-all duration-300 group text-lg"
                  >
                      <span>{text}</span>
                      <i className="fa-solid fa-arrow-down transition-transform duration-300 group-hover:translate-y-1"></i>
                  </a>
              </div>
          );
      };
      
      const Navbar = ({ theme, toggleTheme, activeSection }) => {
        const navLinks = [
              { href: '#home', label: 'Home' },
              { href: '#about', label: 'About' },
              { href: '#spotlight', label: 'Spotlight' },
              { href: '#projects', label: 'Projects' },
              { href: '#experience', label: 'Experience' },
              { href: '#contact', label: 'Contact' }
          ];
          const [isScrolled, setIsScrolled] = useState(false);
          const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);
          useEffect(() => {
              const handleScroll = () => setIsScrolled(window.scrollY > 20);
              window.addEventListener('scroll', handleScroll);
              return () => window.removeEventListener('scroll', handleScroll);
          }, []);
          const handleNavClick = (e) => {
              e.preventDefault();
              const href = e.currentTarget.getAttribute('href');
              if (href) {
                  smoothScrollTo(href);
              }
              setIsMobileMenuOpen(false);
          };
          return (
              <header className={`fixed top-0 left-0 w-full z-50 transition-all duration-300 ease-in-out ${isScrolled ? 'py-3 bg-light-card/80 dark:bg-dark-card/80 backdrop-blur-md shadow-xl' : 'py-6 bg-transparent'}`}>
                  <div className="container mx-auto px-6 md:px-8 flex justify-between items-center">
                      <a href="#home" onClick={handleNavClick} className="block transition-transform duration-300 hover:scale-110 focus:outline-none">
                          <img 
                            src="https://raw.githubusercontent.com/ayushkul172/Energyconsultant/main/logo.png" 
                            alt="Ayush Kulshrestha Logo"
                            className="h-12 w-auto" 
                          />
                      </a>
                      <nav className="flex items-center gap-4">
                          <ul className="hidden md:flex list-none gap-2">
                              {navLinks.map(link => {
                                const isActive = link.href === `#${activeSection}`;
                                return (
                                  <li key={link.href}>
                                      <a href={link.href} 
                                         onClick={handleNavClick} 
                                         className={`px-4 py-2 font-medium rounded-md transition-all duration-300 ${isActive ? 'text-primary-light dark:text-primary-dark bg-black/10 dark:bg-white/10 font-bold' : 'text-light-text dark:text-dark-text hover:text-primary-light dark:hover:text-primary-dark hover:bg-black/5 dark:hover:bg-white/5'}`}
                                         aria-current={isActive ? 'page' : undefined}
                                      >
                                        {link.label}
                                      </a>
                                  </li>
                                );
                              })}
                          </ul>
                          <button onClick={toggleTheme} title="Toggle dark mode" className="w-10 h-10 flex items-center justify-center text-xl text-light-text dark:text-dark-text rounded-full transition-colors duration-300 hover:text-primary-light dark:hover:text-primary-dark hover:bg-black/5 dark:hover:bg-white/5">
                              {theme === 'dark' ? <i className="fa-solid fa-sun"></i> : <i className="fa-solid fa-moon"></i>}
                          </button>
                          <button 
                              onClick={() => setIsMobileMenuOpen(!isMobileMenuOpen)} 
                              className="md:hidden w-10 h-10 flex items-center justify-center text-2xl text-light-text dark:text-dark-text rounded-full transition-colors duration-300 hover:bg-black/5 dark:hover:bg-white/5" 
                              aria-label="Toggle menu"
                              aria-expanded={isMobileMenuOpen}
                              aria-controls="mobile-menu"
                          >
                              <i className={`fa-solid transition-transform duration-300 ${isMobileMenuOpen ? 'fa-xmark rotate-180' : 'fa-bars'}`}></i>
                          </button>
                      </nav>
                  </div>
                  <div 
                      id="mobile-menu"
                      className={`transition-all duration-500 ease-in-out md:hidden bg-light-card/90 dark:bg-dark-card/90 backdrop-blur-md mt-2 mx-6 rounded-lg shadow-lg ${isMobileMenuOpen ? 'max-h-screen py-2' : 'max-h-0'} overflow-hidden`}
                  >
                      <ul className="flex flex-col list-none">
                          {navLinks.map(link => {
                            const isActive = link.href === `#${activeSection}`;
                            return (
                              <li key={link.href} className="w-full">
                                  <a href={link.href} 
                                     onClick={handleNavClick} 
                                     className={`block text-center py-3 text-light-text dark:text-dark-text transition-colors duration-300 ${isActive ? 'text-primary-light dark:text-primary-dark bg-primary-light/10 dark:bg-primary-dark/10 font-bold' : 'hover:bg-primary-light/10 dark:hover:bg-primary-dark/10'}`}
                                     aria-current={isActive ? 'page' : undefined}
                                  >
                                    {link.label}
                                  </a>
                              </li>
                            );
                          })}
                      </ul>
                  </div>
              </header>
          );
      };
      
      const Hero = () => {
          const handleScrollClick = (e) => {
              e.preventDefault();
              const href = e.currentTarget.getAttribute('href');
              smoothScrollTo(href);
          };
          return (
              <section id="home" className="relative h-screen bg-cover bg-center bg-fixed flex flex-col justify-center items-center text-center text-white px-5">
                  <div className="absolute inset-0 bg-gradient-to-br from-slate-900/70 to-cyan-900/60"></div>
                  <div className="relative z-10 max-w-5xl mx-auto">
                      <h1 className="font-montserrat text-5xl md:text-7xl font-extrabold text-white animate-fadeInUp" style={{ animationDelay: '0.1s' }}>
                          Ayush Kulshrestha
                      </h1>
                      <p className="text-xl md:text-2xl mt-5 mb-8 text-cyan-200 opacity-0 animate-fadeInUp" style={{ animationDelay: '0.3s' }}>
                          Energy Consultant & Data Scientist | AI-Driven Analytics for the Energy Sector
                      </p>
                      <div className="grid grid-cols-1 md:grid-cols-3 gap-6 mt-12 opacity-0 animate-fadeInUp" style={{ animationDelay: '0.5s' }}>
                          <div className="bg-white/10 backdrop-blur-sm p-6 rounded-xl border border-white/20 text-left">
                              <h4 className="font-montserrat text-lg font-bold text-cyan-300 pb-2 mb-2">Upstream Market Intel</h4>
                              <p className="text-slate-200 text-sm">In-depth analysis of supply/demand trends, subsea developments, and contractor performance.</p>
                          </div>
                          <div className="bg-white/10 backdrop-blur-sm p-6 rounded-xl border border-white/20 text-left">
                              <h4 className="font-montserrat text-lg font-bold text-cyan-300 pb-2 mb-2">AI-Powered Automation</h4>
                              <p className="text-slate-200 text-sm">Architecting AI-powered solutions that automate research, extract critical intel, and reduce manual effort by over 90%.</p>
                          </div>
                          <div className="bg-white/10 backdrop-blur-sm p-6 rounded-xl border border-white/20 text-left">
                              <h4 className="font-montserrat text-lg font-bold text-cyan-300 pb-2 mb-2">Strategic Consulting</h4>
                              <p className="text-slate-200 text-sm">Utilizing market benchmarking and data visualization to enhance competitive positioning.</p>
                          </div>
                      </div>
                      <a href="#spotlight" onClick={handleScrollClick} className="mt-12 inline-block bg-secondary-dark text-white py-3 px-8 rounded-full font-bold uppercase tracking-wider transition-all duration-300 hover:scale-105 hover:bg-cyan-300 hover:text-slate-900 shadow-lg opacity-0 animate-fadeInUp" style={{ animationDelay: '0.7s' }}>
                          View Featured Project <i className="fa-solid fa-arrow-right-long ml-2"></i>
                      </a>
                  </div>
                  {/* ‚úÖ FIXED: Scroll down prompt is now visible */}
                  <a
                      href="#about"
                      onClick={handleScrollClick}
                      className="absolute bottom-10 left-1/2 -translate-x-1/2 z-20 cursor-pointer animate-fadeIn [animation-delay:2s] animate-bounceSlow"
                      aria-label="Scroll to about section"
                  >
                      <div className="w-10 h-10 flex items-center justify-center text-3xl text-white/70 hover:text-white transition-colors duration-300">
                          <i className="fa-solid fa-chevron-down"></i>
                      </div>
                  </a>
              </section>
          );
      };

      const About = () => {
         return (
              <Section 
                id="about" 
                className="bg-light-card/75 dark:bg-dark-card/75 backdrop-blur-md ring-1 ring-white/10"
              >
                <div className="grid md:grid-cols-5 gap-10 items-center">
                  <div className="md:col-span-2 flex items-center justify-center">
                    <div className="relative w-72 h-72 md:w-80 md:h-80 lg:w-96 lg:h-96 rounded-full bg-light-card dark:bg-dark-card p-2 transition-all duration-300
                                    border-4 border-primary-light dark:border-primary-dark 
                                    shadow-[0_15px_40px_-10px_rgba(8,145,178,0.4)] dark:shadow-[0_15px_40px_-10px_rgba(34,211,238,0.2)]">
                      <img 
                        src="https://raw.githubusercontent.com/ayushkul172/Energyconsultant/main/Ayushprofile.png"
                        alt="A professional headshot of Ayush Kulshrestha"
                        className="w-full h-full rounded-full object-cover object-top scale-125 transition-all duration-500 ease-out hover:scale-[1.30] [filter:drop-shadow(0px_4px_8px_rgba(0,0,0,0.3))]"
                      />
                    </div>
                  </div>
                  <div className="md:col-span-3">
                      <h2 className="font-montserrat text-3xl md:text-4xl font-bold text-primary-light dark:text-primary-dark mb-4 animate-reveal">
                          Bridging Engineering, Business, and Data Science
                      </h2>
                      <div className="space-y-4 text-light-subtle dark:text-dark-subtle text-lg">
                          <p>My career is driven by a fascination with the intersection of technology, data, and the global energy landscape. With a foundation in <strong className="text-light-text dark:text-dark-text font-semibold">Mechanical Engineering (B.Tech)</strong> and a strategic perspective from an <strong className="text-light-text dark:text-dark-text font-semibold">MBA in Marketing & International Business</strong>, I am uniquely positioned to understand not just the *what*, but the *why* behind market movements.</p>
                          <p>I don't just analyze data; I build systems to make it smarter. My approach is to identify inefficiencies, architect solutions with <strong className="text-light-text dark:text-dark-text font-semibold">Python, VBA, and Generative AI</strong>, and deliver clear, actionable intelligence that empowers leadership to act with confidence. I am passionate about building data-driven strategies that create a competitive edge.</p>
                      </div>
                      <div className="mt-8 flex flex-wrap gap-4 items-center">
                        <a href="https://www.linkedin.com/in/ayush-k-5641461b2/" target="_blank" rel="noopener noreferrer" className="inline-flex items-center gap-3 bg-secondary-light dark:bg-secondary-dark text-white py-3 px-6 rounded-lg font-semibold transition-transform duration-300 hover:scale-105 shadow-md">
                            <i className="fa-brands fa-linkedin text-xl"></i>
                            <span>Let's Connect</span>
                        </a>
                        <a href="https://raw.githubusercontent.com/ayushkul172/Energyconsultant/main/THE%20CV.docx" target="_blank" rel="noopener noreferrer" download="Ayush_Kulshrestha_CV.docx" className="inline-flex items-center gap-3 bg-light-card dark:bg-dark-card text-secondary-light dark:text-secondary-dark py-3 px-6 rounded-lg font-semibold transition-all duration-300 hover:scale-105 shadow-md ring-2 ring-inset ring-secondary-light dark:ring-secondary-dark hover:bg-secondary-light/10 dark:hover:bg-secondary-dark/10">
                            <i className="fa-solid fa-file-arrow-down text-xl"></i>
                            <span>Download CV</span>
                        </a>
                      </div>
                  </div>
                </div>
                {/* ‚úÖ This link guides users to the next section */}
                <NextSectionLink href="#spotlight" text="View my featured work" />
            </Section>
          );
      };

      const ProjectShowcase = ({ projects }) => {
          const [currentIndex, setCurrentIndex] = useState(0);

          const prevSlide = () => {
              const isFirstSlide = currentIndex === 0;
              const newIndex = isFirstSlide ? projects.length - 1 : currentIndex - 1;
              setCurrentIndex(newIndex);
          };

          const nextSlide = () => {
              const isLastSlide = currentIndex === projects.length - 1;
              const newIndex = isLastSlide ? 0 : currentIndex + 1;
              setCurrentIndex(newIndex);
          };

          const goToSlide = (slideIndex) => {
              setCurrentIndex(slideIndex);
          };

          return (
              <Section 
                  id="spotlight" 
                  className="bg-light-bg/75 dark:bg-dark-bg/75 backdrop-blur-md ring-1 ring-white/10"
              >
                  <div className="text-center mb-16">
                      <p className="font-montserrat font-bold text-secondary-light dark:text-secondary-dark uppercase tracking-widest mb-2">Project Spotlight</p>
                      <h2 className="font-montserrat text-3xl md:text-4xl font-bold text-primary-light dark:text-primary-dark">Featured AI Implementations</h2>
                  </div>

                  {/* --- Slider Starts Here --- */}
                  <div className="relative max-w-6xl mx-auto">
                      <div className="overflow-hidden relative rounded-xl">
                          <div 
                              className="flex transition-transform ease-in-out duration-700"
                              style={{ transform: `translateX(-${currentIndex * 100}%)` }}
                          >
                              {projects.map((project, index) => (
                                  <div key={index} className="w-full flex-shrink-0 p-2">
                                      <div className="grid md:grid-cols-2 gap-12 items-start bg-light-card dark:bg-dark-card p-8 rounded-xl shadow-lg ring-1 ring-slate-200 dark:ring-slate-700">
                                          {/* Left Column: Project Details */}
                                          <div className="space-y-8">
                                              <h3 className="font-montserrat text-2xl font-bold text-primary-light dark:text-primary-dark -mt-2">{project.title}</h3>
                                              <div>
                                                  <h4 className="font-montserrat text-xl font-bold mb-2 text-light-text dark:text-dark-text">‚≠ê Situation</h4>
                                                  <p className="text-light-subtle dark:text-dark-subtle">{project.situation}</p>
                                              </div>
                                              <div>
                                                  <h4 className="font-montserrat text-xl font-bold mb-2 text-light-text dark:text-dark-text">üéØ Task</h4>
                                                  <p className="text-light-subtle dark:text-dark-subtle">{project.task}</p>
                                              </div>
                                              <div>
                                                  <h4 className="font-montserrat text-xl font-bold mb-2 text-light-text dark:text-dark-text">üîß Action</h4>
                                                  <p className="text-light-subtle dark:text-dark-subtle">{project.action}</p>
                                              </div>
                                          </div>
                                          
                                          {/* Right Column: Image, Tech Stack, Outcomes */}
                                          <div className="space-y-8">
                                              <img 
                                                src={project.image}
                                                alt={`Screenshot of the ${project.title}`}
                                                className="rounded-xl shadow-2xl ring-1 ring-slate-200 dark:ring-slate-700 w-full h-auto aspect-[16/10] object-cover"
                                              />
                                              <div>
                                                  <h4 className="font-montserrat text-xl font-bold mb-3 text-light-text dark:text-dark-text">Technology Stack</h4>
                                                  <div className="flex flex-wrap justify-start gap-3">
                                                      {project.techStack.map((tech, i) => (
                                                          <span key={i} className="bg-cyan-100 dark:bg-cyan-900/50 text-cyan-800 dark:text-cyan-300 py-1 px-3 rounded-full text-sm font-medium ring-1 ring-cyan-200 dark:ring-cyan-800">{tech}</span>
                                                      ))}
                                                  </div>
                                              </div>
                                              <div>
                                                  <h4 className="font-montserrat text-xl font-bold mb-4 text-light-text dark:text-dark-text">‚úÖ Key Outcomes</h4>
                                                  <div className="grid grid-cols-1 sm:grid-cols-3 gap-4 text-center">
                                                      {project.results.map((res, i) => (
                                                          <div key={i} className="bg-light-bg dark:bg-dark-bg p-4 rounded-lg shadow-md ring-1 ring-slate-200 dark:ring-slate-700">
                                                              <p className="text-3xl font-bold font-montserrat text-secondary-light dark:text-secondary-dark">{res.metric}</p>
                                                              <p className="text-sm text-light-subtle dark:text-dark-subtle">{res.description}</p>
                                                          </div>
                                                      ))}
                                                  </div>
                                              </div>
                                          </div>
                                      </div>
                                  </div>
                              ))}
                          </div>
                      </div>

                      {/* --- Navigation Buttons (MODIFIED) --- */}
                      <button 
                          onClick={prevSlide}
                          className="absolute top-1/2 -translate-y-1/2 left-[-2rem] md:left-[-4rem] z-10 w-12 h-12 bg-white/50 dark:bg-black/50 backdrop-blur-sm rounded-full flex items-center justify-center text-light-text dark:text-dark-text hover:bg-white/80 dark:hover:bg-black/80 transition-all shadow-lg"
                          aria-label="Previous project"
                      >
                          <i className="fa-solid fa-chevron-left"></i>
                      </button>
                      <button 
                          onClick={nextSlide}
                          className="absolute top-1/2 -translate-y-1/2 right-[-2rem] md:right-[-4rem] z-10 w-12 h-12 bg-white/50 dark:bg-black/50 backdrop-blur-sm rounded-full flex items-center justify-center text-light-text dark:text-dark-text hover:bg-white/80 dark:hover:bg-black/80 transition-all shadow-lg"
                          aria-label="Next project"
                      >
                          <i className="fa-solid fa-chevron-right"></i>
                      </button>

                      {/* --- Indicator Dots --- */}
                      <div className="flex justify-center mt-8 space-x-3">
                          {projects.map((_, slideIndex) => (
                              <button
                                  key={slideIndex}
                                  onClick={() => goToSlide(slideIndex)}
                                  className={`w-3 h-3 rounded-full transition-all duration-300 ${currentIndex === slideIndex ? 'bg-primary-light dark:bg-primary-dark scale-125' : 'bg-slate-300 dark:bg-slate-600'}`}
                                  aria-label={`Go to project ${slideIndex + 1}`}
                              ></button>
                          ))}
                      </div>
                  </div>
                  {/* --- Slider Ends Here --- */}

                  <NextSectionLink href="#projects" text="Explore more case studies" />
              </Section>
          );
      };

      const ProjectCard = ({ project }) => {
          return (
              <div className="bg-light-card dark:bg-dark-card p-8 rounded-xl shadow-lg transition-all duration-300 hover:-translate-y-2 hover:shadow-2xl ring-1 ring-slate-200 dark:ring-slate-700">
                  <h3 className="font-montserrat text-xl font-bold text-primary-light dark:text-primary-dark mb-4">{project.title}</h3>
                  <div className="space-y-4">
                      <p className="text-light-subtle dark:text-dark-subtle"><strong className="text-light-text dark:text-dark-text font-semibold">Challenge:</strong> {project.challenge}</p>
                      <p className="text-light-subtle dark:text-dark-subtle" dangerouslySetInnerHTML={{ __html: `<strong class="text-light-text dark:text-dark-text font-semibold">Action:</strong> ${project.action}` }} />
                      <div className="text-lg font-medium bg-light-bg dark:bg-dark-bg/50 p-4 rounded-md mt-4 text-light-text dark:text-dark-text ring-1 ring-slate-200 dark:ring-slate-700">
                          {project.result.highlight && (
                              <span className="font-bold text-secondary-light dark:text-secondary-dark">{project.result.highlight} </span>
                          )}
                          <span dangerouslySetInnerHTML={{ __html: project.result.text.replace(/<strong>/g, '<strong class="text-light-text dark:text-dark-text font-semibold">') }} />
                      </div>
                  </div>
              </div>
          );
      };
      const Projects = () => (
          <Section 
            id="projects" 
            className="bg-light-card/75 dark:bg-dark-card/75 backdrop-blur-md ring-1 ring-white/10"
          >
              <div className="text-center">
                  <h2 className="font-montserrat text-3xl md:text-4xl font-bold text-primary-light dark:text-primary-dark mb-4">Additional Case Studies</h2>
                  <p className="max-w-2xl mx-auto text-light-subtle dark:text-dark-subtle mb-12">Here are more examples of how I've turned complex challenges into measurable successes.</p>
              </div>
              <div className="grid grid-cols-1 lg:grid-cols-2 gap-8">
                  {projects.map((project, index) => <ProjectCard key={index} project={project} />)}
              </div>
              {/* ‚úÖ This link guides users to the next section */}
              <NextSectionLink href="#expertise" text="See my technical skills" />
          </Section>
      );

      const Expertise = () => (
          <Section 
            id="expertise" 
            className="bg-light-bg/75 dark:bg-dark-bg/75 backdrop-blur-md ring-1 ring-white/10"
          >
              <div className="text-center">
                  <h2 className="font-montserrat text-3xl md:text-4xl font-bold text-primary-light dark:text-primary-dark mb-4">Core Competencies & Technical Toolkit</h2>
                  <p className="max-w-2xl mx-auto text-light-subtle dark:text-dark-subtle mb-12">I leverage a blend of strategic analysis and technical skill to deliver powerful results.</p>
              </div>
              <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-16">
                  {competencies.map((item, index) => <CompetencyCard key={index} competency={item} />)}
              </div>
              <div className="text-center">
                  <h3 className="font-montserrat text-2xl font-bold text-primary-light dark:text-primary-dark text-center mb-6">Technical Toolkit</h3>
                  <div className="flex flex-wrap justify-center gap-3">
                      {skills.map((skill, index) => (
                          <span key={index} className="bg-cyan-100 dark:bg-cyan-900/50 text-cyan-800 dark:text-cyan-300 py-2 px-4 rounded-full text-sm font-medium ring-1 ring-cyan-200 dark:ring-cyan-800">{skill}</span>
                      ))}
                  </div>
              </div>
              {/* ‚úÖ This link guides users to the next section */}
              <NextSectionLink href="#experience" text="Review my career journey" />
          </Section>
      );
      
      const CompetencyCard = ({ competency }) => (
          <div className="bg-light-card dark:bg-dark-card p-6 text-center rounded-xl shadow-md transition-all duration-300 hover:-translate-y-2 hover:shadow-xl ring-1 ring-slate-200 dark:ring-slate-700">
              <i className={`${competency.icon} text-4xl text-secondary-dark mb-4`}></i>
              <h4 className="font-montserrat text-lg font-bold text-primary-light dark:text-primary-dark mb-2">{competency.title}</h4>
              <p className="text-sm text-light-subtle dark:text-dark-subtle">{competency.description}</p>
          </div>
      );

      const TimelineItem = ({ item, isActive, onClick }) => {
          const contentId = useId();
          return (
              <div className="relative pl-12 pb-10">
                  <div className="absolute left-[-9px] top-1 w-6 h-6 bg-light-bg dark:bg-dark-bg border-4 border-secondary-light dark:border-secondary-dark rounded-full z-10 transition-transform duration-300 group-hover:scale-110"></div>
                  <button 
                      onClick={onClick} 
                      className="w-full text-left cursor-pointer group focus:outline-none focus-visible:ring-2 ring-primary-light rounded-md p-1"
                      aria-expanded={isActive}
                      aria-controls={contentId}
                  >
                      <div className="flex justify-between items-center">
                          <h3 className="font-montserrat text-xl font-bold text-primary-light dark:text-primary-dark transition-colors duration-300 group-hover:text-secondary-light dark:group-hover:text-secondary-dark">{item.company} | {item.title}</h3>
                          <i className={`fa-solid fa-chevron-right text-secondary-light dark:text-secondary-dark transition-transform duration-300 ${isActive ? 'rotate-90' : ''}`}></i>
                      </div>
                      <p className="text-light-subtle dark:text-dark-subtle italic mb-2">{item.date}</p>
                  </button>
                  <div 
                      id={contentId}
                      className={`grid transition-all duration-500 ease-in-out ${isActive ? 'grid-rows-[1fr] opacity-100 mt-2' : 'grid-rows-[0fr] opacity-0'}`}
                  >
                      <div className="overflow-hidden">
                          <p className="text-light-subtle dark:text-dark-subtle">{item.description}</p>
                      </div>
                  </div>
              </div>
          );
      };
      const Experience = () => {
          const [activeIndex, setActiveIndex] = useState(0);
          const handleItemClick = (index) => {
              setActiveIndex(activeIndex === index ? null : index);
          };
          return (
              <Section 
                id="experience" 
                className="bg-light-card/75 dark:bg-dark-card/75 backdrop-blur-md ring-1 ring-white/10"
              >
                  <div className="text-center">
                      <h2 className="font-montserrat text-3xl md:text-4xl font-bold text-primary-light dark:text-primary-dark mb-4">Career Journey</h2>
                      <p className="max-w-2xl mx-auto text-light-subtle dark:text-dark-subtle mb-12">A timeline of my professional growth and key responsibilities.</p>
                  </div>
                  <div className="relative max-w-3xl mx-auto">
                      <div className="absolute left-0 top-2 h-full w-1 bg-slate-200 dark:bg-slate-700 rounded" style={{ transform: 'translateX(2px)' }}></div>
                      {experiences.map((item, index) => (
                          <TimelineItem key={index} item={item} isActive={activeIndex === index} onClick={() => handleItemClick(index)} />
                      ))}
                  </div>
                  {/* ‚úÖ This link guides users to the next section */}
                  <NextSectionLink href="#certifications" text="View my credentials" />
              </Section>
          );
      };

      const Certifications = () => (
          <Section 
            id="certifications" 
            className="bg-light-bg/75 dark:bg-dark-bg/75 backdrop-blur-md ring-1 ring-white/10"
          >
              <div className="text-center">
                  <h2 className="font-montserrat text-3xl md:text-4xl font-bold text-primary-light dark:text-primary-dark mb-4">Certifications & Credentials</h2>
                  <p className="max-w-2xl mx-auto text-light-subtle dark:text-dark-subtle mb-12">A collection of my professional certifications and continued learning achievements.</p>
              </div>
              <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
                  {certifications.map((cert, index) => <CertificationCard key={index} cert={cert} />)}
              </div>
              {/* ‚úÖ This link guides users to the final section */}
              <NextSectionLink href="#contact" text="Ready to connect?" />
          </Section>
      );
      const CertificationCard = ({ cert }) => (
          <div className="bg-light-card dark:bg-dark-card p-6 rounded-xl shadow-lg border-l-4 border-secondary-light dark:border-secondary-dark transition-all duration-300 hover:-translate-y-2 hover:shadow-2xl flex flex-col items-start">
              <div className="w-12 h-12 mb-4 rounded-lg bg-secondary-light/10 dark:bg-secondary-dark/10 flex items-center justify-center">
                  <i className={`${cert.icon} text-2xl text-secondary-light dark:text-secondary-dark`}></i>
              </div>
              <h4 className="font-montserrat text-lg font-bold text-primary-light dark:text-primary-dark mb-1">{cert.title}</h4>
              <p className="text-light-subtle dark:text-dark-subtle">{cert.issuer}</p>
          </div>
      );
      
      const Contact = () => (
          <Section 
            id="contact" 
            className="bg-light-card/75 dark:bg-dark-card/75 backdrop-blur-md ring-1 ring-white/10"
          >
              <div className="text-center max-w-3xl mx-auto">
                  <h2 className="font-montserrat text-3xl md:text-4xl font-bold text-primary-light dark:text-primary-dark mb-4">Let's Talk</h2>
                  <p className="mb-12 text-light-subtle dark:text-dark-subtle">I am always open to discussing new opportunities, projects, and collaborations. Please get in touch using the form below or through my social channels.</p>
                  <div className="bg-light-bg dark:bg-dark-bg p-8 rounded-xl shadow-2xl ring-1 ring-slate-300 dark:ring-slate-600">
                      <form action="https://formspree.io/f/myzjobjp" method="POST" className="text-left space-y-6">
                          <div>
                              <label htmlFor="name" className="block mb-2 font-medium text-light-text dark:text-dark-text">Your Name</label>
                              <input type="text" id="name" name="name" required className="w-full p-3 rounded-md border border-slate-300 dark:border-slate-600 bg-light-bg dark:bg-dark-bg text-light-text dark:text-dark-text focus:outline-none focus:ring-2 focus:ring-secondary-light dark:focus:ring-secondary-dark transition" />
                          </div>
                          <div>
                              <label htmlFor="email" className="block mb-2 font-medium text-light-text dark:text-dark-text">Your Email</label>
                              <input type="email" id="email" name="email" required className="w-full p-3 rounded-md border border-slate-300 dark:border-slate-600 bg-light-bg dark:bg-dark-bg text-light-text dark:text-dark-text focus:outline-none focus:ring-2 focus:ring-secondary-light dark:focus:ring-secondary-dark transition" />
                          </div>
                          <div>
                              <label htmlFor="message" className="block mb-2 font-medium text-light-text dark:text-dark-text">Your Message</label>
                              <textarea id="message" name="message" rows={6} required className="w-full p-3 rounded-md border border-slate-300 dark:border-slate-600 bg-light-bg dark:bg-dark-bg text-light-text dark:text-dark-text focus:outline-none focus:ring-2 focus:ring-secondary-light dark:focus:ring-secondary-dark transition"></textarea>
                          </div>
                          <button type="submit" className="w-full bg-secondary-light dark:bg-secondary-dark text-white py-3 px-8 rounded-lg font-bold transition-all duration-300 hover:scale-105 hover:bg-primary-light dark:hover:bg-primary-dark shadow-lg">Send Message</button>
                      </form>
                  </div>
                  <div className="mt-16">
                      <p className="font-medium mb-6 text-light-subtle dark:text-dark-subtle">Or reach out directly:</p>
                      <ul className="flex flex-col md:flex-row justify-center items-center gap-4 md:gap-8 text-md">
                          <li className="flex items-center gap-3 group">
                              <i className="fa-solid fa-envelope text-primary-light dark:text-primary-dark text-xl"></i>
                              <a href="mailto:ayushkul404@yahoo.com" className="font-medium text-light-text dark:text-dark-text group-hover:text-secondary-light dark:group-hover:text-secondary-dark transition">ayushkul404@yahoo.com</a>
                          </li>
                          <li className="flex items-center gap-3 group">
                              <i className="fa-solid fa-phone text-primary-light dark:text-primary-dark text-xl"></i>
                              <a href="tel:+918851222155" className="font-medium text-light-text dark:text-dark-text group-hover:text-secondary-light dark:group-hover:text-secondary-dark transition">+91 8851222155</a>
                          </li>
                          <li className="flex items-center gap-3 group">
                              <i className="fa-brands fa-linkedin text-primary-light dark:text-primary-dark text-xl"></i>
                              <a href="https://www.linkedin.com/in/ayush-k-5641461b2/" target="_blank" rel="noopener noreferrer" className="font-medium text-light-text dark:text-dark-text group-hover:text-secondary-light dark:group-hover:text-secondary-dark transition">LinkedIn Profile</a>
                          </li>
                      </ul>
                  </div>
              </div>
          </Section>
      );
      
      const Footer = () => (
          <footer className="bg-dark-card/80 backdrop-blur-md text-dark-subtle text-center py-6 ring-1 ring-white/10">
              <p>¬© {new Date().getFullYear()} Ayush Kulshrestha. All Rights Reserved.</p>
          </footer>
      );

      const ScrollToTopButton = () => {
          const [isVisible, setIsVisible] = useState(false);
          useEffect(() => {
              const toggleVisibility = () => {
                  if (window.scrollY > 300) {
                      setIsVisible(true);
                  } else {
                      setIsVisible(false);
                  }
              };
              window.addEventListener('scroll', toggleVisibility);
              return () => window.removeEventListener('scroll', toggleVisibility);
          }, []);
          const scrollToTop = () => {
              window.scrollTo({ top: 0, behavior: 'smooth' });
          };
          return (
              <button
                  onClick={scrollToTop}
                  className={`fixed bottom-8 right-8 w-12 h-12 bg-secondary-light dark:bg-secondary-dark text-white rounded-full text-2xl z-50 transition-all duration-300 ease-in-out border-none flex items-center justify-center shadow-lg hover:scale-110 ${isVisible ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-4 pointer-events-none'}`}
                  aria-label="Go to top"
              >
                  <i className="fa-solid fa-arrow-up"></i>
              </button>
          );
      };

      // --- MODIFIED: Interactive Navigation Guidance Overlay (bottom-right, no blur during navigation) ---
      const NavigationGuide = ({ visible, onClose }) => {
          const navSteps = [
              { selector: '#home', label: 'Welcome! This is the Hero section.' },
              { selector: '#about', label: 'Learn more about my background.' },
              { selector: '#spotlight', label: 'See my featured project.' },
              { selector: '#projects', label: 'Browse additional case studies.' },
              { selector: '#expertise', label: 'Explore my technical skills.' },
              { selector: '#experience', label: 'Review my career journey.' },
              { selector: '#certifications', label: 'Check out my certifications.' },
              { selector: '#contact', label: 'Let\'s get in touch!' },
          ];
          const [step, setStep] = useState(0);

          useEffect(() => {
              if (!visible) return;
              const el = document.querySelector(navSteps[step].selector);
              if (el) {
                  el.scrollIntoView({ behavior: 'smooth', block: 'center' });
              }
          }, [step, visible]);

          if (!visible) return null;
          return (
              <div className="fixed bottom-8 right-8 z-[200] pointer-events-none">
                  <div className="relative max-w-xs w-[340px] bg-light-card dark:bg-dark-card rounded-2xl shadow-2xl p-6 text-center ring-2 ring-primary-light dark:ring-primary-dark animate-fadeInUp pointer-events-auto border border-primary-light/20 dark:border-primary-dark/20">
                      <button
                          className="absolute top-3 right-3 w-8 h-8 flex items-center justify-center text-xl text-light-subtle dark:text-dark-subtle rounded-full hover:bg-black/10 dark:hover:bg-white/10 transition"
                          onClick={onClose}
                          aria-label="Close guidance"
                          style={{ pointerEvents: 'auto' }}
                      >
                          <i className="fa-solid fa-xmark"></i>
                      </button>
                      <div className="mb-3 flex justify-center">
                          <span className="inline-flex items-center justify-center w-12 h-12 rounded-full bg-secondary-light/20 dark:bg-secondary-dark/20 text-2xl text-secondary-light dark:text-secondary-dark shadow-lg">
                              <i className="fa-solid fa-compass"></i>
                          </span>
                      </div>
                      <h2 className="font-montserrat text-xl font-bold text-primary-light dark:text-primary-dark mb-2">Quick Tour</h2>
                      <p className="text-light-subtle dark:text-dark-subtle mb-4">{navSteps[step].label}</p>
                      <div className="flex justify-between items-center gap-2 mb-2">
                          <button
                              className="bg-light-bg dark:bg-dark-bg text-secondary-light dark:text-secondary-dark px-3 py-1 rounded-lg font-semibold shadow transition hover:bg-secondary-light/10 dark:hover:bg-secondary-dark/10 disabled:opacity-50"
                              onClick={() => setStep(s => Math.max(0, s - 1))}
                              disabled={step === 0}
                              style={{ pointerEvents: 'auto' }}
                          >
                              <i className="fa-solid fa-arrow-left mr-1"></i> Prev
                          </button>
                          {step < navSteps.length - 1 ? (
                              <button
                                  className="bg-secondary-light dark:bg-secondary-dark text-white px-4 py-1 rounded-lg font-bold shadow transition hover:scale-105"
                                  onClick={() => setStep(s => s + 1)}
                                  style={{ pointerEvents: 'auto' }}
                              >
                                  Next <i className="fa-solid fa-arrow-right ml-1"></i>
                              </button>
                          ) : (
                              <button
                                  className="bg-primary-light dark:bg-primary-dark text-white px-4 py-1 rounded-lg font-bold shadow transition hover:scale-105"
                                  onClick={onClose}
                                  style={{ pointerEvents: 'auto' }}
                              >
                                  Finish <i className="fa-solid fa-flag-checkered ml-1"></i>
                              </button>
                          )}
                      </div>
                      <div className="mt-2 text-xs text-light-subtle dark:text-dark-subtle">
                          Step {step + 1} of {navSteps.length}
                      </div>
                  </div>
              </div>
          );
      };

      // --- MAIN APP COMPONENT ---
      const App = () => {
          const [theme, setTheme] = useState(() => {
              if (typeof window !== 'undefined' && window.localStorage) {
                  const storedTheme = localStorage.getItem('theme');
                  if (storedTheme) {
                      return storedTheme;
                  }
                  return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
              }
              return 'dark';
          });
          const [isModalOpen, setIsModalOpen] = useState(false);
          const [activeSection, setActiveSection] = useState('home');
          const [showGuide, setShowGuide] = useState(false);

          useEffect(() => {
              if (theme === 'dark') {
                  document.documentElement.classList.add('dark');
              } else {
                  document.documentElement.classList.remove('dark');
              }
              localStorage.setItem('theme', theme);
          }, [theme]);
          
          useEffect(() => {
              const hasSeenModal = sessionStorage.getItem('hasSeenConsultationModal');
              if (!hasSeenModal) {
                  const timer = setTimeout(() => {
                      setIsModalOpen(true);
                      sessionStorage.setItem('hasSeenConsultationModal', 'true');
                  }, 3000);
                  return () => clearTimeout(timer);
              }
          }, []);

          // ‚úÖ FIXED: This effect now correctly tracks the active section
          useEffect(() => {
            const sectionIds = ['home', 'about', 'spotlight', 'projects', 'expertise', 'experience', 'certifications', 'contact'];
            const sections = sectionIds.map(id => document.getElementById(id));

            const handleScroll = () => {
              const scrollPosition = window.scrollY;
              const windowHeight = window.innerHeight;
              const bodyHeight = document.body.offsetHeight;
              
              // A point about 30% down the viewport, good for triggering section changes
              const triggerPoint = scrollPosition + windowHeight * 0.3;

              // Special case for the bottom of the page
              if (scrollPosition + windowHeight >= bodyHeight - 50) {
                  setActiveSection('contact');
                  return;
              }

              let currentSection = 'home';
              for (const section of sections) {
                  if (section && section.offsetTop <= triggerPoint) {
                      currentSection = section.id;
                  }
              }
              setActiveSection(currentSection);
            };

            window.addEventListener('scroll', handleScroll, { passive: true });
            handleScroll(); // Set initial state
            return () => window.removeEventListener('scroll', handleScroll);
          }, []); // Empty dependency array is correct here, as it sets up the listener once.

          const toggleTheme = () => {
              setTheme(prevTheme => (prevTheme === 'dark' ? 'light' : 'dark'));
          };
          
          const handleModalClose = () => setIsModalOpen(false);
          const handleModalCtaClick = () => {
              setIsModalOpen(false);
              smoothScrollTo('#contact');
          };

          // Optionally, show the guide automatically for first-time users
          useEffect(() => {
              if (!sessionStorage.getItem('hasSeenNavGuide')) {
                  setTimeout(() => setShowGuide(true), 1500);
                  sessionStorage.setItem('hasSeenNavGuide', 'true');
              }
          }, []);

          return (
              <Fragment>
                  <MarketingModal 
                    isOpen={isModalOpen}
                    onClose={handleModalClose}
                    onCtaClick={handleModalCtaClick}
                  />
                  <Navbar theme={theme} toggleTheme={toggleTheme} activeSection={activeSection} />
                  <main>
                      <Hero />
                      <About />
                      <ProjectShowcase projects={spotlightProjects} />
                      <Projects />
                      <Expertise />
                      <Experience />
                      <Certifications />
                      <Contact />
                  </main>
                  <Footer />
                  <ScrollToTopButton />
                  <NavigationGuide visible={showGuide} onClose={() => setShowGuide(false)} />
                  <button
                      className="fixed left-4 bottom-8 z-50 bg-primary-light dark:bg-primary-dark text-white px-4 py-2 rounded-full shadow-lg flex items-center gap-2 font-semibold hover:scale-105 transition-all duration-300"
                      style={{ pointerEvents: 'auto' }}
                      onClick={() => setShowGuide(true)}
                      aria-label="Show navigation guidance"
                  >
                      <i className="fa-solid fa-compass"></i>
                      Guide Me
                  </button>
              </Fragment>
          );
      };

      // --- RENDER THE APP ---
      const rootElement = document.getElementById('root');
      const root = ReactDOM.createRoot(rootElement);
      root.render(<App />);
    </script>
</body>
</html>
